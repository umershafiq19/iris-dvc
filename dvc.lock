schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py --out_dir data
    params:
      params.yaml:
        prepare.random_seed: 42
    outs:
    - path: data/iris.csv
      hash: md5
      md5: 21d441a28bce4417276097df955afc50
      size: 2928
  features:
    cmd: python src/features.py --in_csv data/iris.csv --out_dir data 
      --test_size 0.2 --random_state 42
    deps:
    - path: data/iris_dataset.csv
      hash: md5
      md5: e77c66bd7bb4def259e0fd9f6efe417f
      size: 2765
    - path: src/features.py
      hash: md5
      md5: 27170b245304aba4b722b99e22fb614a
      size: 1099
    params:
      params.yaml:
        features.random_state: 42
        features.test_size: 0.2
    outs:
    - path: data/X_test.npy
      hash: md5
      md5: 6106b6fdfa5e57277f32c885bc1eed51
      size: 1088
    - path: data/X_train.npy
      hash: md5
      md5: abdc135983612a7ff50c3a300b5b4d55
      size: 3968
    - path: data/y_test.npy
      hash: md5
      md5: c8a14810d1d66e69e3149abda346c748
      size: 368
    - path: data/y_train.npy
      hash: md5
      md5: 2c2741a338b44cc698b03ddaddd77a6a
      size: 1088
  train:
    cmd: python src/train.py --data_dir data --model_out model.pkl
    deps:
    - path: data/X_train.npy
      hash: md5
      md5: abdc135983612a7ff50c3a300b5b4d55
      size: 3968
    - path: data/y_train.npy
      hash: md5
      md5: 2c2741a338b44cc698b03ddaddd77a6a
      size: 1088
    - path: src/train.py
      hash: md5
      md5: d6b0ebfff707063a2034b2ce7dd9f218
      size: 875
    params:
      params.yaml:
        train.max_depth: 5
        train.n_estimators: 100
        train.random_state: 42
    outs:
    - path: model.pkl
      hash: md5
      md5: b423048acee4c03e18db32cb2f9db0f4
      size: 163137
  evaluate:
    cmd: python src/evaluate.py --data_dir data --model model.pkl --out 
      metrics/eval.json
    deps:
    - path: data/X_test.npy
      hash: md5
      md5: 6106b6fdfa5e57277f32c885bc1eed51
      size: 1088
    - path: data/y_test.npy
      hash: md5
      md5: c8a14810d1d66e69e3149abda346c748
      size: 368
    - path: model.pkl
      hash: md5
      md5: b423048acee4c03e18db32cb2f9db0f4
      size: 163137
    - path: src/evaluate.py
      hash: md5
      md5: cc48b38c5a00fbfdb9d00b817f813c06
      size: 932
    params:
      params.yaml:
        evaluate.average: macro
    outs:
    - path: metrics/eval.json
      hash: md5
      md5: c57dd2e89a75372665eb758f7487453e
      size: 73
